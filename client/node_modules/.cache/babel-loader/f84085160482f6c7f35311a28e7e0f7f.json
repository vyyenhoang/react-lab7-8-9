{"ast":null,"code":"import _defineProperty from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Form,Container}from'react-bootstrap';import Axios from'axios';import{Redirect}from'react-router-dom';import{toast}from'react-toastify';var New=function New(){var _useState=useState({title:'',content:'',status:'DRAFT'}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return Axios.post('/api/blogs',inputs);case 4:resp=_context.sent;if(resp.status===200){toast(\"The blog was created successfully\",{type:toast.TYPE.SUCCESS});setRedirect(true);}else{toast(\"There was an issue creating the blog\",{type:toast.TYPE.ERROR});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);toast(\"There was an issue creating the blog\",{type:toast.TYPE.ERROR});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleInputChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _event$target,name,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.persist();_event$target=event.target,name=_event$target.name,value=_event$target.value;setInputs(function(inputs){return _objectSpread(_objectSpread({},inputs),{},_defineProperty({},name,value));});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleInputChange(_x2){return _ref2.apply(this,arguments);};}();if(redirect)return/*#__PURE__*/React.createElement(Redirect,{to:\"/blogs\"});return/*#__PURE__*/React.createElement(Container,{className:\"my-5\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"New Blog Post\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Title:\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"title\",onChange:handleInputChange,value:inputs.title})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Content:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",name:\"content\",onChange:handleInputChange,value:inputs.content})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Status:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",name:\"status\",onChange:handleInputChange,defaultValue:inputs.status||'DRAFT'},/*#__PURE__*/React.createElement(\"option\",{value:\"DRAFT\"},\"draft\"),/*#__PURE__*/React.createElement(\"option\",{value:\"PUBLISHED\"},\"published\"))),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Create\")))));};export default New;","map":{"version":3,"sources":["E:/React/comp-2068-s20-blogging-platform-master/client/src/components/blogs/New.jsx"],"names":["React","useState","Form","Container","Axios","Redirect","toast","New","title","content","status","inputs","setInputs","redirect","setRedirect","handleSubmit","event","preventDefault","post","resp","type","TYPE","SUCCESS","ERROR","handleInputChange","persist","target","name","value"],"mappings":"u4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,iBAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAY,eAEMN,QAAQ,CAAC,CACnCO,KAAK,CAAE,EAD4B,CAEnCC,OAAO,CAAE,EAF0B,CAGnCC,MAAM,CAAE,OAH2B,CAAD,CAFd,wCAEfC,MAFe,eAEPC,SAFO,8BAQUX,QAAQ,CAAC,KAAD,CARlB,yCAQfY,QARe,eAQLC,WARK,eAUtB,GAAMC,CAAAA,YAAY,0FAAG,iBAAMC,KAAN,2HACnBA,KAAK,CAACC,cAAN,GADmB,sCAIEb,CAAAA,KAAK,CAACc,IAAN,CAAW,YAAX,CAAyBP,MAAzB,CAJF,QAIXQ,IAJW,eAMjB,GAAIA,IAAI,CAACT,MAAL,GAAgB,GAApB,CAA0B,CACxBJ,KAAK,CAAC,mCAAD,CAAsC,CACzCc,IAAI,CAAEd,KAAK,CAACe,IAAN,CAAWC,OADwB,CAAtC,CAAL,CAGAR,WAAW,CAAC,IAAD,CAAX,CACD,CALD,IAKO,CACLR,KAAK,CAAC,sCAAD,CAAyC,CAC5Cc,IAAI,CAAEd,KAAK,CAACe,IAAN,CAAWE,KAD2B,CAAzC,CAAL,CAGD,CAfgB,+EAiBjBjB,KAAK,CAAC,sCAAD,CAAyC,CAC5Cc,IAAI,CAAEd,KAAK,CAACe,IAAN,CAAWE,KAD2B,CAAzC,CAAL,CAjBiB,oEAAH,kBAAZR,CAAAA,YAAY,4CAAlB,CAuBA,GAAMS,CAAAA,iBAAiB,2FAAG,kBAAMR,KAAN,mJACxBA,KAAK,CAACS,OAAN,GADwB,cAGAT,KAAK,CAACU,MAHN,CAGhBC,IAHgB,eAGhBA,IAHgB,CAGVC,KAHU,eAGVA,KAHU,CAKxBhB,SAAS,CAAC,SAAAD,MAAM,wCACXA,MADW,wBAEbgB,IAFa,CAENC,KAFM,IAAP,CAAT,CALwB,wDAAH,kBAAjBJ,CAAAA,iBAAiB,8CAAvB,CAWA,GAAIX,QAAJ,CAAc,mBAAQ,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAR,CAEd,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,eACE,+CACE,8CADF,CADF,cAKE,8BALF,cAOE,4CACE,oBAAC,IAAD,EAAM,QAAQ,CAAEE,YAAhB,eACE,oBAAC,IAAD,CAAM,KAAN,mBACE,oBAAC,IAAD,CAAM,KAAN,eADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,OADP,CAEE,QAAQ,CAAES,iBAFZ,CAGE,KAAK,CAAEb,MAAM,CAACH,KAHhB,EAFF,CADF,cAUE,oBAAC,IAAD,CAAM,KAAN,mBACE,oBAAC,IAAD,CAAM,KAAN,iBADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,UADL,CAEE,IAAI,CAAC,SAFP,CAGE,QAAQ,CAAEgB,iBAHZ,CAIE,KAAK,CAAEb,MAAM,CAACF,OAJhB,EAFF,CAVF,cAoBE,oBAAC,IAAD,CAAM,KAAN,mBACE,oBAAC,IAAD,CAAM,KAAN,gBADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CAAEe,iBAHZ,CAIE,YAAY,CAAEb,MAAM,CAACD,MAAP,EAAiB,OAJjC,eAME,8BAAQ,KAAK,CAAC,OAAd,UANF,cAOE,8BAAQ,KAAK,CAAC,WAAd,cAPF,CAFF,CApBF,cAiCE,oBAAC,IAAD,CAAM,KAAN,mBACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,WADF,CAjCF,CADF,CAPF,CADF,CAkDD,CAhGD,CAkGA,cAAeH,CAAAA,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Container } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nconst New = function () {\n\n  const [inputs, setInputs] = useState({\n    title: '',\n    content: '',\n    status: 'DRAFT'\n  });\n\n  const [redirect, setRedirect] = useState(false);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const resp = await Axios.post('/api/blogs', inputs);\n\n      if (resp.status === 200)  {\n        toast(\"The blog was created successfully\", {\n          type: toast.TYPE.SUCCESS\n        });\n        setRedirect(true);\n      } else {\n        toast(\"There was an issue creating the blog\", {\n          type: toast.TYPE.ERROR\n        });\n      }\n    } catch (error) {\n      toast(\"There was an issue creating the blog\", {\n        type: toast.TYPE.ERROR\n      });\n    }\n  };\n\n  const handleInputChange = async event => {\n    event.persist();\n\n    const { name, value } = event.target;\n\n    setInputs(inputs => ({\n      ...inputs,\n      [name]: value\n    }));\n  };\n\n  if (redirect) return (<Redirect to=\"/blogs\"/>);\n\n  return (\n    <Container className=\"my-5\">\n      <header>\n        <h1>New Blog Post</h1>\n      </header>\n\n      <hr/>\n\n      <div>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group>\n            <Form.Label>Title:</Form.Label>\n            <Form.Control\n              name=\"title\"\n              onChange={handleInputChange}\n              value={inputs.title}\n            />\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Label>Content:</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              name=\"content\"\n              onChange={handleInputChange}\n              value={inputs.content}\n            />\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Label>Status:</Form.Label>\n            <Form.Control\n              as=\"select\"\n              name=\"status\"\n              onChange={handleInputChange}\n              defaultValue={inputs.status || 'DRAFT'}\n            >\n              <option value=\"DRAFT\">draft</option>\n              <option value=\"PUBLISHED\">published</option>\n            </Form.Control>\n          </Form.Group>\n\n          <Form.Group>\n            <button type=\"submit\" className=\"btn btn-primary\">Create</button>\n          </Form.Group>\n        </Form>\n      </div>\n    </Container>\n  );\n\n};\n\nexport default New;"]},"metadata":{},"sourceType":"module"}