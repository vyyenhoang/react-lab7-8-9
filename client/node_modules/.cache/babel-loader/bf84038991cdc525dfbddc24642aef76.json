{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\React\\\\comp-2068-s20-blogging-platform-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import{Redirect}from'react-router-dom';import{useEffect}from'react';import Axios from'axios';import{toast}from'react-toastify';var Logout=function Logout(_ref){var setUser=_ref.setUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get('/api/logout');case 3:resp=_context.sent;if(resp.status===200){setUser(false);toast(\"You have successfully logged out\",{type:toast.TYPE.SUCCESS});setRedirect(true);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast(\"There was an error while attempting to log you out\",{type:toast.TYPE.ERROR});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},[]);if(redirect)return/*#__PURE__*/React.createElement(Redirect,{to:\"/blogs\"});return null;};export default Logout;","map":{"version":3,"sources":["E:/React/comp-2068-s20-blogging-platform-master/client/src/components/sessions/Logout.jsx"],"names":["React","useState","Redirect","useEffect","Axios","toast","Logout","setUser","redirect","setRedirect","get","resp","status","type","TYPE","SUCCESS","ERROR"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,eAEIN,QAAQ,CAAC,KAAD,CAFZ,wCAErBO,QAFqB,eAEXC,WAFW,eAI5BN,SAAS,CAAC,UAAM,CACd,wDAAC,kLAEsBC,CAAAA,KAAK,CAACM,GAAN,CAAU,aAAV,CAFtB,QAESC,IAFT,eAIG,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACvBL,OAAO,CAAC,KAAD,CAAP,CACAF,KAAK,CAAC,kCAAD,CAAqC,CACxCQ,IAAI,CAAER,KAAK,CAACS,IAAN,CAAWC,OADuB,CAArC,CAAL,CAGAN,WAAW,CAAC,IAAD,CAAX,CACD,CAVJ,+EAYGJ,KAAK,CAAC,oDAAD,CAAuD,CAACQ,IAAI,CAAER,KAAK,CAACS,IAAN,CAAWE,KAAlB,CAAvD,CAAL,CAZH,oEAAD,KAeD,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,GAAIR,QAAJ,CAAc,mBAAQ,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAR,CACd,MAAO,KAAP,CACD,CAxBD,CA0BA,cAAeF,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst Logout = ({setUser}) => {\n\n  const [redirect, setRedirect] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const resp = await Axios.get('/api/logout');\n\n        if (resp.status === 200) {\n          setUser(false);\n          toast(\"You have successfully logged out\", {\n            type: toast.TYPE.SUCCESS\n          });\n          setRedirect(true);\n        }\n      } catch (error) {\n        toast(\"There was an error while attempting to log you out\", {type: toast.TYPE.ERROR});\n      }\n    })();\n  }, []);\n\n  if (redirect) return (<Redirect to=\"/blogs\"/>);\n  return null;\n};\n\nexport default Logout;"]},"metadata":{},"sourceType":"module"}