(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,a,t){e.exports=t(68)},68:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),c=t.n(l),s=t(8),o=(t(42),t(9)),u=t(7);var m=function(){return r.a.createElement("header",{className:"home-cta"},r.a.createElement("h1",null,"Welcome Home to My Blog"))},i=t(71);var b=function(){return r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",{class:"jumbotron"},r.a.createElement("h1",null,"All About Me")),r.a.createElement("div",null,r.a.createElement("p",null,"The autobiography of Shaun McKinnon")))},p=t(18),E=t(17),d=t(6),v=t.n(d),f=t(10),g=t(14),h=t.n(g),O=t(72),j=t(4),w=function(e){var a=e.setUser,t=Object(n.useState)({email:"",password:""}),l=Object(o.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),b=Object(o.a)(m,2),d=b[0],g=b[1],w=function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("/api/authenticate",c);case 4:200===(n=e.sent).status?(a(n.data.user),Object(j.b)("You have logged in successfully",{type:j.b.TYPE.SUCCESS}),g(!0)):Object(j.b)("There was an issue logging you in. Please check your credentials.",{type:j.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(j.b)("There was an issue logging you in. Please check your credentials.",{type:j.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),y=function(e){e.persist();var a=e.target,t=a.name,n=a.value;s((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(p.a)({},t,n))})),console.log(c)};return d?r.a.createElement(u.a,{to:"/blogs"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Login")),r.a.createElement("hr",null),r.a.createElement(O.a,{onSubmit:w},r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement(O.a.Control,{type:"email",name:"email",onChange:y,value:c.email})),r.a.createElement(O.a.Group,null,r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement(O.a.Control,{type:"password",name:"password",onChange:y,value:c.password})),r.a.createElement(O.a.Group,null,r.a.createElement("button",{className:"btn btn-primary"},"Login"))))},y=function(e){var a=e.setUser,t=Object(n.useState)(!1),l=Object(o.a)(t,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/logout");case 3:200===e.sent.status&&(a(!1),Object(j.b)("You have successfully logged out",{type:j.b.TYPE.SUCCESS}),s(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(j.b)("There was an error while attempting to log you out",{type:j.b.TYPE.ERROR});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),c?r.a.createElement(u.a,{to:"/blogs"}):null},N=function(e){var a=e.user,t=Object(n.useState)([]),l=Object(o.a)(t,2),c=l[0],u=l[1];Object(n.useEffect)((function(){Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})))()}),[]);var m=function(){var e=Object(f.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/blogs");case 2:200===(a=e.sent).status&&u(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/blogs/delete",{id:a._id});case 3:return 200===e.sent.status&&Object(j.b)("The blog was deleted successfully",{type:j.b.TYPE.SUCCESS}),e.next=7,m();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(j.b)("There was an error deleting the blog",{type:j.b.TYPE.ERROR});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Archive")),r.a.createElement("hr",null),r.a.createElement("div",{className:"content"},c&&c.map((function(e,t){return r.a.createElement("div",{key:t,className:"card my-3"},r.a.createElement("div",{className:"card-header clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h5",{className:"card-title"},e.title),e.user?r.a.createElement("small",null,"~",e.user.fullname):null),r.a.createElement("div",{className:"float-right"},r.a.createElement("small",null,e.updatedAt))),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.synopsis)),a?r.a.createElement("div",{className:"card-footer"},r.a.createElement(s.b,{to:{pathname:"/blogs/edit",state:{id:e._id}}},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("button",{type:"button",onClick:function(){return b(e)}},r.a.createElement("i",{className:"fa fa-trash"}))):null)}))))},x=function(){var e=Object(n.useState)({title:"",content:"",status:"DRAFT"}),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],b=s[1],d=function(){var e=Object(f.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h.a.post("/api/blogs",t);case 4:200===e.sent.status?(Object(j.b)("The blog was created successfully",{type:j.b.TYPE.SUCCESS}),b(!0)):Object(j.b)("There was an issue creating the blog",{type:j.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(j.b)("There was an issue creating the blog",{type:j.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),t=a.target,n=t.name,r=t.value,l((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(p.a)({},n,r))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return m?r.a.createElement(u.a,{to:"/blogs"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"New Blog Post")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(O.a,{onSubmit:d},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Title:"),r.a.createElement(O.a.Control,{name:"title",onChange:g,value:t.title})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Content:"),r.a.createElement(O.a.Control,{as:"textarea",name:"content",onChange:g,value:t.content})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Status:"),r.a.createElement(O.a.Control,{as:"select",name:"status",onChange:g,defaultValue:t.status||"DRAFT"},r.a.createElement("option",{value:"DRAFT"},"draft"),r.a.createElement("option",{value:"PUBLISHED"},"published"))),r.a.createElement(O.a.Group,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create")))))},S=function(e){var a=e.location.state.id,t=Object(n.useState)({title:"",content:"",status:"DRAFT"}),l=Object(o.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),b=Object(o.a)(m,2),d=b[0],g=b[1];Object(n.useEffect)((function(){Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/blogs/".concat(a));case 2:200===(t=e.sent).status&&s(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(f.a)(v.a.mark((function e(a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h.a.post("/api/blogs/update",c);case 4:200===e.sent.status?(Object(j.b)("The blog was updated successfully",{type:j.b.TYPE.SUCCESS}),g(!0)):Object(j.b)("There was an issue updating the blog",{type:j.b.TYPE.ERROR}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(j.b)("There was an issue updating the blog",{type:j.b.TYPE.ERROR});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),t=a.target,n=t.name,r=t.value,s((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(p.a)({},n,r))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return d?r.a.createElement(u.a,{to:"/blogs"}):r.a.createElement(i.a,{className:"my-5"},r.a.createElement("header",null,r.a.createElement("h1",null,"Edit Blog Post")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(O.a,{onSubmit:w},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Title:"),r.a.createElement(O.a.Control,{name:"title",onChange:y,value:c.title})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Content:"),r.a.createElement(O.a.Control,{as:"textarea",name:"content",onChange:y,value:c.content})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Status:"),r.a.createElement(O.a.Control,{as:"select",name:"status",onChange:y,defaultValue:c.status||"DRAFT"},r.a.createElement("option",{value:"DRAFT"},"draft"),r.a.createElement("option",{value:"PUBLISHED"},"published"))),r.a.createElement(O.a.Group,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update")))))};var C=function(e){var a=e.user,t=e.setUser;return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:m}),r.a.createElement(u.b,{exact:!0,path:"/about",component:b}),r.a.createElement(u.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(w,Object.assign({},e,{setUser:t}))}}),r.a.createElement(u.b,{exact:!0,path:"/logout",render:function(e){return r.a.createElement(y,Object.assign({},e,{setUser:t}))}}),r.a.createElement(u.b,{exact:!0,path:"/blogs",render:function(e){return r.a.createElement(N,Object.assign({},e,{user:a}))}}),r.a.createElement(u.b,{exact:!0,path:"/blogs/new",component:x}),r.a.createElement(u.b,{exact:!0,path:"/blogs/edit",component:S}))};var T=function(e){var a=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},"SCMBlog"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/about",className:"nav-link"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/contact",className:"nav-link"},"Contact")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"",className:"nav-link dropdown-toggle",id:"blogsDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Blogs"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"blogsDropdown"},r.a.createElement(s.b,{to:"/blogs",className:"dropdown-item"},"Archive"),a?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(s.b,{to:"/blogs/new",className:"dropdown-item"},"New Post")):null))),r.a.createElement("ul",{className:"navbar-nav"},a?r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/logout",className:"nav-link"},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")):r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/register",className:"nav-link"},r.a.createElement("i",{className:"fa fa-user-plus"}),"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/login",className:"nav-link"},r.a.createElement("i",{className:"fa fa-sign-in"}),"Login"))))))};t(67);var R=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement(T,{user:t}),r.a.createElement(C,{user:t,setUser:l}))};c.a.render(r.a.createElement(s.a,null,r.a.createElement(R,null)),document.querySelector("#root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.d2df7ac2.chunk.js.map